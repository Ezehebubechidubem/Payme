<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PayMe App</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body {font-family: Arial,sans-serif; margin:0; padding:0; background:skyblue;}
.hidden{display:none;}
form{max-width:400px;margin:50px auto;padding:20px;background:#fff;border-radius:10px;box-shadow:0 5px 15px rgba(0,0,0,0.1);}
form h2{text-align:center;margin-bottom:20px;}
form input{width:100%;padding:10px;margin:10px 0;border-radius:6px;border:1px solid #ccc;}
form button{width:100%;padding:10px;background:#5b4dff;color:white;border:none;border-radius:6px;font-size:16px;cursor:pointer;}
form small{display:block;text-align:center;margin-top:10px;color:gray;cursor:pointer;}
.navbar{display:flex;justify-content:space-between;align-items:center;background:#222;padding:10px 20px;}
.navbar .logo{color:#fff;font-size:20px;font-weight:bold;}
.balance-card,.history-card,.quick-actions,.services{margin:20px 15px;padding:20px;border-radius:12px;background:white;}
.balance-card h1{margin:10px 0;}
.quick-actions,.services{display:flex;justify-content:space-around;flex-wrap:wrap;gap:10px;}
.quick-actions div,.services div{text-align:center;font-size:14px;cursor:pointer;}
.quick-actions div i,.services div i{font-size:24px;color:purple;}
#transactionList{list-style:none;padding:0;margin:0;max-height:250px;overflow-y:auto;}
#transactionList li{border-bottom:1px solid #eee;padding:10px 0;font-size:14px;}
#transactionList li.deposit{background:#e0ffe0;}
#transactionList li.withdraw{background:#ffe0e0;}
#transactionList li span.amount{font-weight:bold;}
#transactionList li span.type{font-style:italic;color:gray;}
#profileMenu{display:none;position:absolute;top:50px;right:10px;background:white;border-radius:8px;padding:10px;box-shadow:0 5px 15px rgba(0,0,0,0.2);z-index:100;}
#profileMenu div{padding:5px;cursor:pointer;}
#profileModal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);display:flex;justify-content:center;align-items:center;}
#profileModal .modal-content{background:white;padding:20px;border-radius:10px;width:90%;max-width:400px;}
#bottomBar{position:fixed;bottom:0;left:0;width:100%;background:#fff;display:flex;justify-content:space-around;padding:10px 0;border-top:1px solid #ccc;z-index:200;}
#bottomBar div{text-align:center;font-size:12px;cursor:pointer;}
#bottomBar div i{font-size:20px;color:purple;}
#dashboardContent{overflow-y:auto;max-height:calc(100vh - 60px);padding-bottom:80px;}
</style>
</head>
<body>

<!-- REGISTER -->
<section id="registerSection">
<form id="registerForm">
<h2>Register</h2>
<input type="text" placeholder="Username" id="regUsername" required>
<input type="tel" placeholder="Phone (11 digits)" id="regPhone" minlength="11" maxlength="11" required>
<input type="password" placeholder="Password" id="regPassword" required>
<button type="submit">Register</button>
<small id="toLogin">Already have account? <strong>Login</strong></small>
</form>
</section>

<!-- LOGIN -->
<section id="loginSection" class="hidden">
<form id="loginForm">
<h2>Login</h2>
<input type="tel" placeholder="Phone (11 digits)" id="loginPhone" minlength="11" maxlength="11" required>
<input type="password" placeholder="Password" id="loginPassword" required>
<button type="submit">Login</button>
<small id="toRegister">Don't have account?<strong>Register</strong></small>
</form>
</section>

<!-- DASHBOARD -->
<section id="dashboardSection" class="hidden">
<nav class="navbar">
<div class="logo">PAYME</div>
<div>
<button id="hamburgerBtn">&#9776;</button>
</div>
</nav>

<div id="profileMenu">
<div id="profileMenuBtn">Profile</div>
<div id="logoutMenuBtn">Logout</div>
</div>

<div id="dashboardContent">
<div class="balance-card">
<h3>Available Balance</h3>
<h1 id="balanceDisplay">â‚¦0.00</h1>
<button id="addMoneyBtn">Add Money</button>
<button id="refreshBtn">ðŸ”„</button>
</div>

<div class="history-card">
<h3>Transaction History</h3>
<ul id="transactionList"><li>No transactions yet</li></ul>
<button id="seeMoreBtn" style="display:none;margin-top:10px;">See More</button>
</div>

<div class="quick-actions">
<div id="toBankBtn"><i class="fas fa-university"></i><br>To Bank</div>
<div id="toWalletBtn"><i class="fas fa-wallet"></i><br>To Wallet</div>
<div id="atmBtn"><i class="fas fa-credit-card"></i><br>ATM Card</div>
<div id="loanBtn"><i class="fas fa-hand-holding-usd"></i><br>Loan</div>
<div id="earnBtn"><i class="fas fa-users"></i><br>Refer & Earn</div>
</div>

<div id="bottomBar">
<div id="homeBtn"><i class="fas fa-home"></i><br>Home</div>
<div id="loanBtn2"><i class="fas fa-hand-holding-usd"></i><br>Loan</div>
<div id="earnBtn2"><i class="fas fa-users"></i><br>Refer & Earn</div>
</div>

<div id="profileModal">
<div class="modal-content">
<h2>My Profile</h2>
<p><b>Username:</b> <span id="profileUsername"></span></p>
<p><b>Phone:</b> <span id="profilePhone"></span></p>
<p><b>Account No:</b> <span id="profileAccount"></span></p>
<p><b>Balance:</b> â‚¦<span id="profileBalance"></span></p>
<button id="closeProfile">Close</button>
</div>
</div>
</section>

<!-- TO BANK -->
<section id="toBankSection" class="hidden">
<form id="toBankForm">
<h2>Send Money</h2>
<input type="text" placeholder="Receiver Phone (11 digits)" id="receiverPhone" required>
<p id="receiverName" style="margin:5px 0;color:green;"></p>
<input type="number" placeholder="Amount" id="sendAmount" required>
<button type="submit">Send</button>
<small id="backDashboard" style="display:block;text-align:center;margin-top:10px;cursor:pointer;">Back to Dashboard</small>
</form>
</section>

<script>
let currentUser=null;
let users=[];
let transactions=[];
let nextAccountNo=100001;

function showSection(sec){
document.querySelectorAll('section').forEach(s=>s.classList.add('hidden'));
document.getElementById(sec).classList.remove('hidden');
if(sec==='dashboardSection'){document.getElementById('bottomBar').style.display='flex';} else {document.getElementById('bottomBar').style.display='none';}
}

// REGISTER
document.getElementById('registerForm').addEventListener('submit',function(e){
e.preventDefault();
let uname=document.getElementById('regUsername').value;
let phone=document.getElementById('regPhone').value;
let pwd=document.getElementById('regPassword').value;
if(users.find(u=>u.phone===phone)){alert('Phone already registered'); return;}
let user={username:uname,phone:phone,password:pwd,balance:0,accountNo:nextAccountNo++};
users.push(user);
alert('Registered successfully!');
showSection('loginSection');
});

// LOGIN
document.getElementById('loginForm').addEventListener('submit',function(e){
e.preventDefault();
let phone=document.getElementById('loginPhone').value;
let pwd=document.getElementById('loginPassword').value;
let user=users.find(u=>u.phone===phone && u.password===pwd);
if(!user){alert('Invalid credentials'); return;}
currentUser=user;
updateDashboard();
showSection('dashboardSection');
});

// DASHBOARD
function updateDashboard(){
document.getElementById('balanceDisplay').innerText='â‚¦'+currentUser.balance.toFixed(2);
document.getElementById('profileUsername').innerText=currentUser.username;
document.getElementById('profilePhone').innerText=currentUser.phone;
document.getElementById('profileAccount').innerText=currentUser.accountNo;
document.getElementById('profileBalance').innerText=currentUser.balance.toFixed(2);
updateTransactionList();
}

function updateTransactionList(){
let list=document.getElementById('transactionList');
list.innerHTML='';
let txs=transactions.filter(t=>t.phone===currentUser.phone);
if(txs.length===0){list.innerHTML='<li>No transactions yet</li>'; return;}
txs.slice(-5).reverse().forEach(t=>{
let li=document.createElement('li');
li.className=t.type==='deposit'?'deposit':'withdraw';
li.innerHTML=t.type+' <span class="amount">â‚¦'+t.amount.toFixed(2)+'</span>';
list.appendChild(li);
});
}

// ADD MONEY
document.getElementById('addMoneyBtn').addEventListener('click',function(){
let amt=prompt('Enter amount to add:');
amt=parseFloat(amt);
if(isNaN(amt)||amt<=0){alert('Invalid amount'); return;}
currentUser.balance+=amt;
transactions.push({phone:currentUser.phone,type:'deposit',amount:amt});
updateDashboard();
});

// REFRESH
document.getElementById('refreshBtn').addEventListener('click',updateDashboard);

// PROFILE MENU
document.getElementById('hamburgerBtn').addEventListener('click',()=>{
let pm=document.getElementById('profileMenu');
pm.style.display=pm.style.display==='block'?'none':'block';
});
document.getElementById('profileMenuBtn').addEventListener('click',()=>{document.getElementById('profileModal').style.display='flex';});
document.getElementById('closeProfile').addEventListener('click',()=>{document.getElementById('profileModal').style.display='none';});
document.getElementById('logoutMenuBtn').addEventListener('click',()=>{
currentUser=null;
showSection('loginSection');
});

// TO BANK
document.getElementById('toBankBtn').addEventListener('click',()=>{showSection('toBankSection');});
document.getElementById('toBankForm').addEventListener('submit',function(e){
e.preventDefault();
let recv=document.getElementById('receiverPhone').value;
let amt=parseFloat(document.getElementById('sendAmount').value);
if(isNaN(amt)||amt<=0){alert('Invalid amount'); return;}
if(amt>currentUser.balance){alert('Insufficient balance'); return;}
currentUser.balance-=amt;
transactions.push({phone:currentUser.phone,type:'withdraw',amount:amt});
alert('Sent â‚¦'+amt.toFixed(2)+' to '+recv);
document.getElementById('receiverPhone').value='';
document.getElementById('sendAmount').value='';
updateDashboard();
showSection('dashboardSection');
});

// NAV LINKS
document.getElementById('toLogin').addEventListener('click',()=>showSection('loginSection'));
document.getElementById('toRegister').addEventListener('click',()=>showSection('registerSection'));
document.getElementById('backDashboard').addEventListener('click',()=>showSection('dashboardSection'));
</script>
</body>
</html>